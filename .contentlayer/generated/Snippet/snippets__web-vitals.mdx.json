{
  "title": "Web Vitals",
  "summary": "Web Vitals is an initiative by Google to provide unified guidance for quality signals that are essential to delivering a great user experience on the web.",
  "icon": "js",
  "date": "2021-10-23T00:00:00.000Z",
  "published": true,
  "tags": [
    "Javascript"
  ],
  "body": {
    "raw": "\nWeb Vitals is an initiative by Google to provide unified guidance for quality signals that are essential to delivering a great user experience on the web. The Web Vitals initiative aims to simplify the landscape, and help sites focus on the metrics that matter most, the Core Web Vitals.\n\n**Core Web Vitals** are the subset of Web Vitals that apply to **all web pages**, should be measured by all site owners, and will be surfaced across all Google tools.\n\nEach of the Core Web Vitals metrics represents a distinct facet of the user experience, is measurable in the field, and reflects the real-world experience of a critical user-centric outcome.\n\n### The Metrics\n\n- **Largest Contentful Paint (LCP)** : measures loading performance. To provide a good user experience, LCP should occur within 2.5 seconds of when the page first starts loading.\n\n- **First Input Delay (FID)**: measures interactivity. To provide a good user experience, pages should have a FID of 100 milliseconds or less.\n\n- **Cumulative Layout Shift (CLS)**: measures visual stability. To provide a good user experience, pages should maintain a CLS of 0.1. or less.\n\n- **First Contentful Paint (FCP)**: measures perceived load speed because it marks the first point in the page load timeline where the user can see anything on the screen. a fast FCP helps reassure the user that something is happening.\n\n- **Time to First Byte (TTFB)**: a foundational metric for measuring connection setup time and web server responsiveness in both the lab and the field. It helps identify when a web server is too slow to respond to requests. When a user requests an HTML document it precedes every other meaningful loading performance metric.\n\n### Implementing Web Vitals Metrics\n\n<CodeBlock>\n\n```js:exFunc.js\nexport const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry)\n      getFID(onPerfEntry)\n      getFCP(onPerfEntry)\n      getLCP(onPerfEntry)\n      getTTFB(onPerfEntry)\n    })\n  }\n}\n```\n\n</CodeBlock>\n\n<CodeBlock>\n\n```js:sendData.js\nimport { reportWebVitals } from './reportWebVitals'\n\nfunction sendToAnalytics(metric) {\n  const body = JSON.stringify(metric)\n\n  // Use `navigator.sendBeacon()` if available, falling back to `fetch()`.\n  ;(navigator.sendBeacon && navigator.sendBeacon('/analytics', body)) ||\n    fetch('/analytics', { body, method: 'POST', keepalive: true })\n}\n\nreportWebVitals(sendToAnalytics)\n```\n\n</CodeBlock>\n\nOnce you've configured your site to use the web-vitals library to measure and send your Core Web Vitals data to an analytics endpoint, the next step is to aggregate and report on that data to see if your pages are meeting the recommended thresholds for at least 75% of page visits.\n\n### References\n\n- [Web Vitals](https://web.dev/learn-web-vitals/)\n- [Send Beacon](https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon)\n- [Track Web Vitals in Google Analytics GA4](https://www.simoahava.com/analytics/track-core-web-vitals-in-ga4-with-google-tag-manager/)\n- [Web Vitals Report](https://github.com/GoogleChromeLabs/web-vitals-report)\n",
    "code": "var Component=(()=>{var d=Object.create;var i=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,g=Object.prototype.hasOwnProperty;var f=(s,e)=>()=>(e||s((e={exports:{}}).exports,e),e.exports),y=(s,e)=>{for(var a in e)i(s,a,{get:e[a],enumerable:!0})},r=(s,e,a,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let t of m(e))!g.call(s,t)&&t!==a&&i(s,t,{get:()=>e[t],enumerable:!(l=p(e,t))||l.enumerable});return s};var b=(s,e,a)=>(a=s!=null?d(u(s)):{},r(e||!s||!s.__esModule?i(a,\"default\",{value:s,enumerable:!0}):a,s)),j=s=>r(i({},\"__esModule\",{value:!0}),s);var o=f((P,c)=>{c.exports=_jsx_runtime});var _={};y(_,{default:()=>w,frontmatter:()=>N});var n=b(o()),N={title:\"Web Vitals\",published:!0,date:\"2021-10-23\",summary:\"Web Vitals is an initiative by Google to provide unified guidance for quality signals that are essential to delivering a great user experience on the web.\",icon:\"js\",tags:[\"Javascript\"]};function h(s){let e=Object.assign({p:\"p\",strong:\"strong\",h3:\"h3\",ul:\"ul\",li:\"li\",div:\"div\",pre:\"pre\",code:\"code\",span:\"span\",a:\"a\"},s.components),{CodeBlock:a}=e;return a||C(\"CodeBlock\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Web Vitals is an initiative by Google to provide unified guidance for quality signals that are essential to delivering a great user experience on the web. The Web Vitals initiative aims to simplify the landscape, and help sites focus on the metrics that matter most, the Core Web Vitals.\"}),`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Core Web Vitals\"}),\" are the subset of Web Vitals that apply to \",(0,n.jsx)(e.strong,{children:\"all web pages\"}),\", should be measured by all site owners, and will be surfaced across all Google tools.\"]}),`\n`,(0,n.jsx)(e.p,{children:\"Each of the Core Web Vitals metrics represents a distinct facet of the user experience, is measurable in the field, and reflects the real-world experience of a critical user-centric outcome.\"}),`\n`,(0,n.jsx)(e.h3,{id:\"the-metrics\",children:\"The Metrics\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Largest Contentful Paint (LCP)\"}),\" : measures loading performance. To provide a good user experience, LCP should occur within 2.5 seconds of when the page first starts loading.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"First Input Delay (FID)\"}),\": measures interactivity. To provide a good user experience, pages should have a FID of 100 milliseconds or less.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Cumulative Layout Shift (CLS)\"}),\": measures visual stability. To provide a good user experience, pages should maintain a CLS of 0.1. or less.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"First Contentful Paint (FCP)\"}),\": measures perceived load speed because it marks the first point in the page load timeline where the user can see anything on the screen. a fast FCP helps reassure the user that something is happening.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Time to First Byte (TTFB)\"}),\": a foundational metric for measuring connection setup time and web server responsiveness in both the lab and the field. It helps identify when a web server is too slow to respond to requests. When a user requests an HTML document it precedes every other meaningful loading performance metric.\"]}),`\n`]}),`\n`]}),`\n`,(0,n.jsx)(e.h3,{id:\"implementing-web-vitals-metrics\",children:\"Implementing Web Vitals Metrics\"}),`\n`,(0,n.jsxs)(a,{children:[(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"exFunc.js\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-js\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"reportWebVitals\"}),\" = (\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"onPerfEntry\"}),`) => {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"if\"}),\" (onPerfEntry && onPerfEntry \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"instanceof\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"Function\"}),`) {\n    `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"'web-vitals'\"}),\").\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"then\"}),\"(\",(0,n.jsxs)(e.span,{className:\"hljs-function\",children:[\"(\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"{ getCLS, getFID, getFCP, getLCP, getTTFB }\"}),\") =>\"]}),` {\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"getCLS\"}),`(onPerfEntry)\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"getFID\"}),`(onPerfEntry)\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"getFCP\"}),`(onPerfEntry)\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"getLCP\"}),`(onPerfEntry)\n      `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"getTTFB\"}),`(onPerfEntry)\n    })\n  }\n}\n`]})})]}),`\n`,(0,n.jsxs)(a,{children:[(0,n.jsx)(e.div,{className:\"rehype-code-title\",children:\"sendData.js\"}),(0,n.jsx)(e.pre,{children:(0,n.jsxs)(e.code,{className:\"hljs language-js\",children:[(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"import\"}),\" { reportWebVitals } \",(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"'./reportWebVitals'\"}),`\n\n`,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"sendToAnalytics\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-params\",children:\"metric\"}),`) {\n  `,(0,n.jsx)(e.span,{className:\"hljs-keyword\",children:\"const\"}),\" body = \",(0,n.jsx)(e.span,{className:\"hljs-title class_\",children:\"JSON\"}),\".\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"stringify\"}),`(metric)\n\n  `,(0,n.jsx)(e.span,{className:\"hljs-comment\",children:\"// Use `navigator.sendBeacon()` if available, falling back to `fetch()`.\"}),`\n  ;(navigator.`,(0,n.jsx)(e.span,{className:\"hljs-property\",children:\"sendBeacon\"}),\" && navigator.\",(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"sendBeacon\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"'/analytics'\"}),`, body)) ||\n    `,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"fetch\"}),\"(\",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"'/analytics'\"}),\", { body, \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"method\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-string\",children:\"'POST'\"}),\", \",(0,n.jsx)(e.span,{className:\"hljs-attr\",children:\"keepalive\"}),\": \",(0,n.jsx)(e.span,{className:\"hljs-literal\",children:\"true\"}),` })\n}\n\n`,(0,n.jsx)(e.span,{className:\"hljs-title function_\",children:\"reportWebVitals\"}),`(sendToAnalytics)\n`]})})]}),`\n`,(0,n.jsx)(e.p,{children:\"Once you've configured your site to use the web-vitals library to measure and send your Core Web Vitals data to an analytics endpoint, the next step is to aggregate and report on that data to see if your pages are meeting the recommended thresholds for at least 75% of page visits.\"}),`\n`,(0,n.jsx)(e.h3,{id:\"references\",children:\"References\"}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://web.dev/learn-web-vitals/\",children:\"Web Vitals\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/sendBeacon\",children:\"Send Beacon\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://www.simoahava.com/analytics/track-core-web-vitals-in-ga4-with-google-tag-manager/\",children:\"Track Web Vitals in Google Analytics GA4\"})}),`\n`,(0,n.jsx)(e.li,{children:(0,n.jsx)(e.a,{href:\"https://github.com/GoogleChromeLabs/web-vitals-report\",children:\"Web Vitals Report\"})}),`\n`]})]})}function v(s={}){let{wrapper:e}=s.components||{};return e?(0,n.jsx)(e,Object.assign({},s,{children:(0,n.jsx)(h,s)})):h(s)}var w=v;function C(s,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+s+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return j(_);})();\n;return Component;"
  },
  "_id": "snippets/web-vitals.mdx",
  "_raw": {
    "sourceFilePath": "snippets/web-vitals.mdx",
    "sourceFileName": "web-vitals.mdx",
    "sourceFileDir": "snippets",
    "contentType": "mdx",
    "flattenedPath": "snippets/web-vitals"
  },
  "type": "Snippet",
  "slug": "/snippets/web-vitals",
  "slugAsParams": "web-vitals",
  "stats": {
    "text": "3 min read",
    "minutes": 2.16,
    "time": 129600,
    "words": 432
  }
}