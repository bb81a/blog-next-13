{
  "title": "Debounce",
  "summary": "Debouncing is a strategy that lets us improve performance by waiting until a certain amount of time has passed before triggering an event.",
  "icon": "js",
  "date": "2021-10-23T00:00:00.000Z",
  "published": true,
  "tags": [
    "Javascript"
  ],
  "body": {
    "raw": "\n<CodeBlock>\n\n```JavaScript:debounce.js\nconst debounce = (callback, wait) => {\n    let timeoutId = null;\n\n    return (...args) => {\n        window.clearTimeout(timeoutId);\n\n        timeoutId = window.setTimeout(() => {\n            callback.apply(null, args);\n        }, wait);\n    };\n\n};\n```\n\n</CodeBlock>\n\n### Context\n\nThere are many events in JS that trigger super quickly.\nWhen you scroll the page, or resize the window, or move your mouse, the browser captures dozens and dozens of events per second.\n\nIn many cases, you don't need to capture every single intermediate step; you're only interested in capturing the end state (when the user finishes scrolling, or finishes resizing the window).\nDebouncing is a strategy that lets us improve performance by waiting until a certain amount of time has passed before triggering an event. When the user stops triggering the event, our code will run.\n\nIn some cases, this isn't necessary. But, if any network requests are involved, or if the DOM changes (eg. re-rendering a component), this technique can drastically improve the smoothness of your application.\n\n#### Just use lodash?\n\n> For a long time, it was standard practice to include a utility library like Underscore or lodash. These libraries provide a bunch of handy general methods that fill in the gaps of the JavaScript standard library. They include a \\_.debounce function, that works just like the one shared above.\n>\n> As JS has gotten better and better over the years, these tools have become somewhat redundant. Aside from debouncing and throttling, pretty much everything else I'd want to do is now possible with vanilla JS!\n>\n> Now, you can install lodash and only use the debounce utility, but it'll make your bundle a bit heavier; the debounce utility weights ~2kb, even though the method is only a couple lines, because there's a minimum amount of \"utility glue\" that ships with all lodash utilities.\n>\n> 2kb isn't going to break your budget, but there's another benefit: you're reducing your reliance on third-party code. This debounce function is yours. It lives in your codebase, not in some node_modules folder, and you can modify it as-needed. Feel a sense of ownership over it. You won't have to worry about whether lodash will continue to be maintained.\n\n### Usage\n\n<CodeBlock>\n\n```JavaScript:debounceExample.js\nconst handleMouseMove = debounce((ev) => {\n  // Do stuff with the event!\n}, 250);\n\nwindow.addEventListener('mousemove', handleMouseMove);\n```\n\n</CodeBlock>\n\nIn this example, nothing will happen until the user starts moving the mouse, and then stops moving it for at least 250ms.\n\nNote that this example is focused on vanilla JS. If you're using React, you'll want to wrap your handler in useMemo, so that it doesn't get re-generated on every render. Here's an example that debounces the capturing of the mouse's X coordinate:\n\n<CodeBlock>\n\n```jsx:debounceExample.js\nfunction App() {\n    const [mouseX, setMouseX] = React.useState(null);\n\n    const handleMouseMove = React.useMemo(\n        debounce((ev) => {\n            setMouseX(ev.clientX);\n        }, 250),[]);\n\n    return (\n        <div onMouseMove={handleMouseMove}>\n            Mouse position: {mouseX}\n        </div>\n    );\n}\n```\n\n</CodeBlock>\n\nThis function isn't super easy to digest, especially if you're not used to functional programming! It's 100% OK to use this function without understanding it, but if you're curious, let's pop the hood and see if we can sort it out.\n\nHere's the code again:\n\n<CodeBlock>\n\n```jsx:debounceExample.js\nconst debounce = (callback, wait) => {\n    let timeoutId = null;\n\n    return (...args) => {\n        window.clearTimeout(timeoutId);\n\n        timeoutId = window.setTimeout(() => {\n            callback.apply(null, args);\n        }, wait);\n    };\n}\n```\n\n</CodeBlock>\n\nOur debounce function takes two arguments: a callback function and a duration in milliseconds.\nWe want the debounce function to itself return a function. Functions returning functions always hurts my brain, but it helps when we think about the practical aspects of how it's used:\n\n<CodeBlock>\n\n```jsx:debounceExample.js\nconst debouncedFunction = debounce(function() { ... }, 250)\n\nconsole.log(typeof debouncedFunction); // `function`\n```\n\n</CodeBlock>\n\nHere's how I like to think about it:\n\nYour initial function, the stuff you're actually trying to do, is a piece of hard candy.The debounce function is a piece of factory machinery that wraps that candy in a shiny plastic wrapperThe function that gets returned is your wrapped piece of candy. We've augmented that piece of candy with a wrapper.\n\nNotice that the first line in that function initializes a variable, \"timeoutId\". This line is only executed once. We plan to call our wrapped function many times, but we only call debounce() at the beginning.\n\nWhenever the wrapped function is triggered, two things happen:\n\n1. We cancel any pre-existing timeout\n2. We schedule a new timeout, based on the amount of time indicated by the wait argument. When the timeout expires, we call our callback function with apply, and feed it whatever arguments we have.\n\nThe very first time the user moves the mouse, that first step has no effect; nothing has been scheduled yet! Happily, window.clearTimeout is a very forgiving function; even if there is no timeout, it doesn't complain. It's a “no-op” — it does nothing.\n\nsetTimeout returns a number, a reference to the specific timeout in question. We store that in our timeoutId variable. Because this variable is held outside our wrapped function's scope, it persists.\n\nLet's say the user hasn't finished moving the mouse. A few milliseconds pass, and our wrapper is called again. This time around, timeoutId points to a currently-scheduled timeout, so the first line cancels it. And then we schedule a new one.\n\nIf the user moves the mouse for 1 second, this cycle will repeat dozens of times. Lots of scheduled-and-immediately-cancelled timeouts. But once they stop moving, the cycle stops. The moment 250ms elapses, our timeout fires back, and the code is ultimately run.\n\nThis is a complex sequence! But it works like a charm. Scheduling and cleaning up timeouts is a very quick, low-memory operation, so we don't have to worry much about its cost.\n",
    "code": "var Component=(()=>{var an=Object.create;var D=Object.defineProperty;var dn=Object.getOwnPropertyDescriptor;var un=Object.getOwnPropertyNames;var cn=Object.getPrototypeOf,bn=Object.prototype.hasOwnProperty;var z=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),mn=(a,n)=>{for(var c in n)D(a,c,{get:n[c],enumerable:!0})},Ne=(a,n,c,y)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let g of un(n))!bn.call(a,g)&&g!==c&&D(a,g,{get:()=>n[g],enumerable:!(y=dn(n,g))||y.enumerable});return a};var pn=(a,n,c)=>(c=a!=null?an(cn(a)):{},Ne(n||!a||!a.__esModule?D(c,\"default\",{value:a,enumerable:!0}):c,a)),_n=a=>Ne(D({},\"__esModule\",{value:!0}),a);var Te=z((Tn,ve)=>{ve.exports=React});var Ce=z(X=>{\"use strict\";(function(){\"use strict\";var a=Te(),n=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),y=Symbol.for(\"react.fragment\"),g=Symbol.for(\"react.strict_mode\"),J=Symbol.for(\"react.profiler\"),H=Symbol.for(\"react.provider\"),G=Symbol.for(\"react.context\"),j=Symbol.for(\"react.forward_ref\"),I=Symbol.for(\"react.suspense\"),F=Symbol.for(\"react.suspense_list\"),E=Symbol.for(\"react.memo\"),A=Symbol.for(\"react.lazy\"),Ee=Symbol.for(\"react.offscreen\"),K=Symbol.iterator,Re=\"@@iterator\";function ke(e){if(e===null||typeof e!=\"object\")return null;var f=K&&e[K]||e[Re];return typeof f==\"function\"?f:null}var v=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function m(e){{for(var f=arguments.length,i=new Array(f>1?f-1:0),s=1;s<f;s++)i[s-1]=arguments[s];Se(\"error\",e,i)}}function Se(e,f,i){{var s=v.ReactDebugCurrentFrame,o=s.getStackAddendum();o!==\"\"&&(f+=\"%s\",i=i.concat([o]));var d=i.map(function(l){return String(l)});d.unshift(\"Warning: \"+f),Function.prototype.apply.call(console[e],console,d)}}var Oe=!1,Pe=!1,De=!1,Ie=!1,Fe=!1,Z;Z=Symbol.for(\"react.module.reference\");function Ae(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===y||e===J||Fe||e===g||e===I||e===F||Ie||e===Ee||Oe||Pe||De||typeof e==\"object\"&&e!==null&&(e.$$typeof===A||e.$$typeof===E||e.$$typeof===H||e.$$typeof===G||e.$$typeof===j||e.$$typeof===Z||e.getModuleId!==void 0))}function Me(e,f,i){var s=e.displayName;if(s)return s;var o=f.displayName||f.name||\"\";return o!==\"\"?i+\"(\"+o+\")\":i}function Q(e){return e.displayName||\"Context\"}function h(e){if(e==null)return null;if(typeof e.tag==\"number\"&&m(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case y:return\"Fragment\";case c:return\"Portal\";case J:return\"Profiler\";case g:return\"StrictMode\";case I:return\"Suspense\";case F:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case G:var f=e;return Q(f)+\".Consumer\";case H:var i=e;return Q(i._context)+\".Provider\";case j:return Me(e,e.render,\"ForwardRef\");case E:var s=e.displayName||null;return s!==null?s:h(e.type)||\"Memo\";case A:{var o=e,d=o._payload,l=o._init;try{return h(l(d))}catch{return null}}}return null}var N=Object.assign,w=0,ee,ne,te,fe,ie,se,re;function le(){}le.__reactDisabledLog=!0;function We(){{if(w===0){ee=console.log,ne=console.info,te=console.warn,fe=console.error,ie=console.group,se=console.groupCollapsed,re=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}w++}}function Ye(){{if(w--,w===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:N({},e,{value:ee}),info:N({},e,{value:ne}),warn:N({},e,{value:te}),error:N({},e,{value:fe}),group:N({},e,{value:ie}),groupCollapsed:N({},e,{value:se}),groupEnd:N({},e,{value:re})})}w<0&&m(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var M=v.ReactCurrentDispatcher,W;function R(e,f,i){{if(W===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\\n( *(at )?)/);W=s&&s[1]||\"\"}return`\n`+W+e}}var Y=!1,k;{var $e=typeof WeakMap==\"function\"?WeakMap:Map;k=new $e}function oe(e,f){if(!e||Y)return\"\";{var i=k.get(e);if(i!==void 0)return i}var s;Y=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var d;d=M.current,M.current=null,We();try{if(f){var l=function(){throw Error()};if(Object.defineProperty(l.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(l,[])}catch(x){s=x}Reflect.construct(e,[],l)}else{try{l.call()}catch(x){s=x}e.call(l.prototype)}}else{try{throw Error()}catch(x){s=x}e()}}catch(x){if(x&&s&&typeof x.stack==\"string\"){for(var r=x.stack.split(`\n`),p=s.stack.split(`\n`),u=r.length-1,b=p.length-1;u>=1&&b>=0&&r[u]!==p[b];)b--;for(;u>=1&&b>=0;u--,b--)if(r[u]!==p[b]){if(u!==1||b!==1)do if(u--,b--,b<0||r[u]!==p[b]){var _=`\n`+r[u].replace(\" at new \",\" at \");return e.displayName&&_.includes(\"<anonymous>\")&&(_=_.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&k.set(e,_),_}while(u>=1&&b>=0);break}}}finally{Y=!1,M.current=d,Ye(),Error.prepareStackTrace=o}var C=e?e.displayName||e.name:\"\",ye=C?R(C):\"\";return typeof e==\"function\"&&k.set(e,ye),ye}function Le(e,f,i){return oe(e,!1)}function Ue(e){var f=e.prototype;return!!(f&&f.isReactComponent)}function S(e,f,i){if(e==null)return\"\";if(typeof e==\"function\")return oe(e,Ue(e));if(typeof e==\"string\")return R(e);switch(e){case I:return R(\"Suspense\");case F:return R(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case j:return Le(e.render);case E:return S(e.type,f,i);case A:{var s=e,o=s._payload,d=s._init;try{return S(d(o),f,i)}catch{}}}return\"\"}var O=Object.prototype.hasOwnProperty,ae={},de=v.ReactDebugCurrentFrame;function P(e){if(e){var f=e._owner,i=S(e.type,e._source,f?f.type:null);de.setExtraStackFrame(i)}else de.setExtraStackFrame(null)}function qe(e,f,i,s,o){{var d=Function.call.bind(O);for(var l in e)if(d(e,l)){var r=void 0;try{if(typeof e[l]!=\"function\"){var p=Error((s||\"React class\")+\": \"+i+\" type `\"+l+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[l]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw p.name=\"Invariant Violation\",p}r=e[l](f,l,s,i,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(u){r=u}r&&!(r instanceof Error)&&(P(o),m(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",s||\"React class\",i,l,typeof r),P(null)),r instanceof Error&&!(r.message in ae)&&(ae[r.message]=!0,P(o),m(\"Failed %s type: %s\",i,r.message),P(null))}}}var Be=Array.isArray;function $(e){return Be(e)}function ze(e){{var f=typeof Symbol==\"function\"&&Symbol.toStringTag,i=f&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return i}}function Xe(e){try{return ue(e),!1}catch{return!0}}function ue(e){return\"\"+e}function ce(e){if(Xe(e))return m(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",ze(e)),ue(e)}var V=v.ReactCurrentOwner,Je={key:!0,ref:!0,__self:!0,__source:!0},be,me,L;L={};function He(e){if(O.call(e,\"ref\")){var f=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(f&&f.isReactWarning)return!1}return e.ref!==void 0}function Ge(e){if(O.call(e,\"key\")){var f=Object.getOwnPropertyDescriptor(e,\"key\").get;if(f&&f.isReactWarning)return!1}return e.key!==void 0}function Ke(e,f){if(typeof e.ref==\"string\"&&V.current&&f&&V.current.stateNode!==f){var i=h(V.current.type);L[i]||(m('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h(V.current.type),e.ref),L[i]=!0)}}function Ze(e,f){{var i=function(){be||(be=!0,m(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",f))};i.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:i,configurable:!0})}}function Qe(e,f){{var i=function(){me||(me=!0,m(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",f))};i.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:i,configurable:!0})}}var en=function(e,f,i,s,o,d,l){var r={$$typeof:n,type:e,key:f,ref:i,props:l,_owner:d};return r._store={},Object.defineProperty(r._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(r,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.defineProperty(r,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(r.props),Object.freeze(r)),r};function nn(e,f,i,s,o){{var d,l={},r=null,p=null;i!==void 0&&(ce(i),r=\"\"+i),Ge(f)&&(ce(f.key),r=\"\"+f.key),He(f)&&(p=f.ref,Ke(f,o));for(d in f)O.call(f,d)&&!Je.hasOwnProperty(d)&&(l[d]=f[d]);if(e&&e.defaultProps){var u=e.defaultProps;for(d in u)l[d]===void 0&&(l[d]=u[d])}if(r||p){var b=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;r&&Ze(l,b),p&&Qe(l,b)}return en(e,r,p,o,s,V.current,l)}}var U=v.ReactCurrentOwner,pe=v.ReactDebugCurrentFrame;function T(e){if(e){var f=e._owner,i=S(e.type,e._source,f?f.type:null);pe.setExtraStackFrame(i)}else pe.setExtraStackFrame(null)}var q;q=!1;function B(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===n}function _e(){{if(U.current){var e=h(U.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function tn(e){{if(e!==void 0){var f=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),i=e.lineNumber;return`\n\nCheck your code at `+f+\":\"+i+\".\"}return\"\"}}var he={};function fn(e){{var f=_e();if(!f){var i=typeof e==\"string\"?e:e.displayName||e.name;i&&(f=`\n\nCheck the top-level render call using <`+i+\">.\")}return f}}function xe(e,f){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var i=fn(f);if(he[i])return;he[i]=!0;var s=\"\";e&&e._owner&&e._owner!==U.current&&(s=\" It was passed a child from \"+h(e._owner.type)+\".\"),T(e),m('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',i,s),T(null)}}function ge(e,f){{if(typeof e!=\"object\")return;if($(e))for(var i=0;i<e.length;i++){var s=e[i];B(s)&&xe(s,f)}else if(B(e))e._store&&(e._store.validated=!0);else if(e){var o=ke(e);if(typeof o==\"function\"&&o!==e.entries)for(var d=o.call(e),l;!(l=d.next()).done;)B(l.value)&&xe(l.value,f)}}}function sn(e){{var f=e.type;if(f==null||typeof f==\"string\")return;var i;if(typeof f==\"function\")i=f.propTypes;else if(typeof f==\"object\"&&(f.$$typeof===j||f.$$typeof===E))i=f.propTypes;else return;if(i){var s=h(f);qe(i,e.props,\"prop\",s,e)}else if(f.PropTypes!==void 0&&!q){q=!0;var o=h(f);m(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",o||\"Unknown\")}typeof f.getDefaultProps==\"function\"&&!f.getDefaultProps.isReactClassApproved&&m(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function rn(e){{for(var f=Object.keys(e.props),i=0;i<f.length;i++){var s=f[i];if(s!==\"children\"&&s!==\"key\"){T(e),m(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",s),T(null);break}}e.ref!==null&&(T(e),m(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),T(null))}}function ln(e,f,i,s,o,d){{var l=Ae(e);if(!l){var r=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(r+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var p=tn(o);p?r+=p:r+=_e();var u;e===null?u=\"null\":$(e)?u=\"array\":e!==void 0&&e.$$typeof===n?(u=\"<\"+(h(e.type)||\"Unknown\")+\" />\",r=\" Did you accidentally export a JSX literal instead of a component?\"):u=typeof e,m(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",u,r)}var b=nn(e,f,i,o,d);if(b==null)return b;if(l){var _=f.children;if(_!==void 0)if(s)if($(_)){for(var C=0;C<_.length;C++)ge(_[C],e);Object.freeze&&Object.freeze(_)}else m(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else ge(_,e)}return e===y?rn(b):sn(b),b}}var on=ln;X.Fragment=y,X.jsxDEV=on})()});var Ve=z((wn,we)=>{\"use strict\";we.exports=Ce()});var Nn={};mn(Nn,{default:()=>gn,frontmatter:()=>hn});var t=pn(Ve()),hn={title:\"Debounce\",published:!0,date:\"2021-10-23\",summary:\"Debouncing is a strategy that lets us improve performance by waiting until a certain amount of time has passed before triggering an event.\",icon:\"js\",tags:[\"Javascript\"]};function je(a){let n=Object.assign({div:\"div\",pre:\"pre\",code:\"code\",span:\"span\",h3:\"h3\",p:\"p\",h4:\"h4\",blockquote:\"blockquote\",ol:\"ol\",li:\"li\"},a.components),{CodeBlock:c}=n;return c||yn(\"CodeBlock\",!0,\"15:1-32:13\"),(0,t.jsxDEV)(t.Fragment,{children:[(0,t.jsxDEV)(c,{children:[(0,t.jsxDEV)(n.div,{className:\"rehype-code-title\",children:\"debounce.js\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-JavaScript\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"debounce\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" = (\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"callback, wait\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`) => {\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"let\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" timeoutId = \",(0,t.jsxDEV)(n.span,{className:\"hljs-literal\",children:\"null\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`;\n\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:[\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"...args\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\") =>\"]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),` {\n        `,(0,t.jsxDEV)(n.span,{className:\"hljs-variable language_\",children:\"window\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-built_in\",children:\"clearTimeout\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`(timeoutId);\n\n        timeoutId = `,(0,t.jsxDEV)(n.span,{className:\"hljs-variable language_\",children:\"window\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-built_in\",children:\"setTimeout\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:\"() =>\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),` {\n            callback.`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"apply\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-literal\",children:\"null\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`, args);\n        }, wait);\n    };\n\n};\n`]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:17,columnNumber:1},this)},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:17,columnNumber:1},this)]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:15,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"context\",children:\"Context\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:34,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:`There are many events in JS that trigger super quickly.\nWhen you scroll the page, or resize the window, or move your mouse, the browser captures dozens and dozens of events per second.`},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:36,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:`In many cases, you don't need to capture every single intermediate step; you're only interested in capturing the end state (when the user finishes scrolling, or finishes resizing the window).\nDebouncing is a strategy that lets us improve performance by waiting until a certain amount of time has passed before triggering an event. When the user stops triggering the event, our code will run.`},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In some cases, this isn't necessary. But, if any network requests are involved, or if the DOM changes (eg. re-rendering a component), this technique can drastically improve the smoothness of your application.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:42,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h4,{id:\"just-use-lodash\",children:\"Just use lodash?\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:44,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.blockquote,{children:[`\n`,(0,t.jsxDEV)(n.p,{children:\"For a long time, it was standard practice to include a utility library like Underscore or lodash. These libraries provide a bunch of handy general methods that fill in the gaps of the JavaScript standard library. They include a _.debounce function, that works just like the one shared above.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:46,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"As JS has gotten better and better over the years, these tools have become somewhat redundant. Aside from debouncing and throttling, pretty much everything else I'd want to do is now possible with vanilla JS!\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:48,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.p,{children:`Now, you can install lodash and only use the debounce utility, but it'll make your bundle a bit heavier; the debounce utility weights ~2kb, even though the method is only a couple lines, because there's a minimum amount of \"utility glue\" that ships with all lodash utilities.`},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:50,columnNumber:3},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"2kb isn't going to break your budget, but there's another benefit: you're reducing your reliance on third-party code. This debounce function is yours. It lives in your codebase, not in some node_modules folder, and you can modify it as-needed. Feel a sense of ownership over it. You won't have to worry about whether lodash will continue to be maintained.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:52,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:46,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.h3,{id:\"usage\",children:\"Usage\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,t.jsxDEV)(c,{children:[(0,t.jsxDEV)(n.div,{className:\"rehype-code-title\",children:\"debounceExample.js\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-JavaScript\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" handleMouseMove = \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"debounce\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:[\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"ev\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\") =>\"]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),` {\n  `,(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// Do stuff with the event!\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`\n}, `,(0,t.jsxDEV)(n.span,{className:\"hljs-number\",children:\"250\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`);\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-variable language_\",children:\"window\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"addEventListener\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:\"'mousemove'\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`, handleMouseMove);\n`]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:58,columnNumber:1},this)},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:58,columnNumber:1},this)]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"In this example, nothing will happen until the user starts moving the mouse, and then stops moving it for at least 250ms.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:68,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Note that this example is focused on vanilla JS. If you're using React, you'll want to wrap your handler in useMemo, so that it doesn't get re-generated on every render. Here's an example that debounces the capturing of the mouse's X coordinate:\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,t.jsxDEV)(c,{children:[(0,t.jsxDEV)(n.div,{className:\"rehype-code-title\",children:\"debounceExample.js\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-jsx\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"App\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`) {\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" [mouseX, setMouseX] = \",(0,t.jsxDEV)(n.span,{className:\"hljs-title class_\",children:\"React\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useState\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-literal\",children:\"null\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`);\n\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" handleMouseMove = \",(0,t.jsxDEV)(n.span,{className:\"hljs-title class_\",children:\"React\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"useMemo\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`(\n        `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"debounce\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:[\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"ev\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\") =>\"]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),` {\n            `,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"setMouseX\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(ev.\",(0,t.jsxDEV)(n.span,{className:\"hljs-property\",children:\"clientX\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`);\n        }, `,(0,t.jsxDEV)(n.span,{className:\"hljs-number\",children:\"250\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`),[]);\n\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),` (\n        `,(0,t.jsxDEV)(n.span,{className:\"xml\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"<\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"div\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-attr\",children:\"onMouseMove\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"=\",(0,t.jsxDEV)(n.span,{className:\"hljs-string\",children:\"{handleMouseMove}\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\">\"]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`\n            Mouse position: {mouseX}\n        `,(0,t.jsxDEV)(n.span,{className:\"hljs-tag\",children:[\"</\",(0,t.jsxDEV)(n.span,{className:\"hljs-name\",children:\"div\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\">\"]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this)]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`\n    );\n}\n`]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:74,columnNumber:1},this)},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:74,columnNumber:1},this)]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:72,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This function isn't super easy to digest, especially if you're not used to functional programming! It's 100% OK to use this function without understanding it, but if you're curious, let's pop the hood and see if we can sort it out.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:93,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Here's the code again:\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:95,columnNumber:1},this),`\n`,(0,t.jsxDEV)(c,{children:[(0,t.jsxDEV)(n.div,{className:\"rehype-code-title\",children:\"debounceExample.js\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-jsx\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"debounce\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" = (\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"callback, wait\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`) => {\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"let\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" timeoutId = \",(0,t.jsxDEV)(n.span,{className:\"hljs-literal\",children:\"null\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`;\n\n    `,(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"return\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" \",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:[\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\",children:\"...args\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\") =>\"]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),` {\n        `,(0,t.jsxDEV)(n.span,{className:\"hljs-variable language_\",children:\"window\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-built_in\",children:\"clearTimeout\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`(timeoutId);\n\n        timeoutId = `,(0,t.jsxDEV)(n.span,{className:\"hljs-variable language_\",children:\"window\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-built_in\",children:\"setTimeout\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-function\",children:\"() =>\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),` {\n            callback.`,(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"apply\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-literal\",children:\"null\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`, args);\n        }, wait);\n    };\n}\n`]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:99,columnNumber:1},this)},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:99,columnNumber:1},this)]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:97,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:`Our debounce function takes two arguments: a callback function and a duration in milliseconds.\nWe want the debounce function to itself return a function. Functions returning functions always hurts my brain, but it helps when we think about the practical aspects of how it's used:`},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:115,columnNumber:1},this),`\n`,(0,t.jsxDEV)(c,{children:[(0,t.jsxDEV)(n.div,{className:\"rehype-code-title\",children:\"debounceExample.js\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),(0,t.jsxDEV)(n.pre,{children:(0,t.jsxDEV)(n.code,{className:\"hljs language-jsx\",children:[(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"const\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" debouncedFunction = \",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"debounce\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"function\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-params\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\") { ... }, \",(0,t.jsxDEV)(n.span,{className:\"hljs-number\",children:\"250\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`)\n\n`,(0,t.jsxDEV)(n.span,{className:\"hljs-variable language_\",children:\"console\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\".\",(0,t.jsxDEV)(n.span,{className:\"hljs-title function_\",children:\"log\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\"(\",(0,t.jsxDEV)(n.span,{className:\"hljs-keyword\",children:\"typeof\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),\" debouncedFunction); \",(0,t.jsxDEV)(n.span,{className:\"hljs-comment\",children:\"// `function`\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this),`\n`]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:120,columnNumber:1},this)},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:120,columnNumber:1},this)]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:118,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Here's how I like to think about it:\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:128,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Your initial function, the stuff you're actually trying to do, is a piece of hard candy.The debounce function is a piece of factory machinery that wraps that candy in a shiny plastic wrapperThe function that gets returned is your wrapped piece of candy. We've augmented that piece of candy with a wrapper.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:130,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:'Notice that the first line in that function initializes a variable, \"timeoutId\". This line is only executed once. We plan to call our wrapped function many times, but we only call debounce() at the beginning.'},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:132,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Whenever the wrapped function is triggered, two things happen:\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:134,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.ol,{children:[`\n`,(0,t.jsxDEV)(n.li,{children:\"We cancel any pre-existing timeout\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:136,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.li,{children:\"We schedule a new timeout, based on the amount of time indicated by the wait argument. When the timeout expires, we call our callback function with apply, and feed it whatever arguments we have.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:137,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:136,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"The very first time the user moves the mouse, that first step has no effect; nothing has been scheduled yet! Happily, window.clearTimeout is a very forgiving function; even if there is no timeout, it doesn't complain. It's a \\u201Cno-op\\u201D \\u2014 it does nothing.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:139,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"setTimeout returns a number, a reference to the specific timeout in question. We store that in our timeoutId variable. Because this variable is held outside our wrapped function's scope, it persists.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:141,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"Let's say the user hasn't finished moving the mouse. A few milliseconds pass, and our wrapper is called again. This time around, timeoutId points to a currently-scheduled timeout, so the first line cancels it. And then we schedule a new one.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:143,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"If the user moves the mouse for 1 second, this cycle will repeat dozens of times. Lots of scheduled-and-immediately-cancelled timeouts. But once they stop moving, the cycle stops. The moment 250ms elapses, our timeout fires back, and the code is ultimately run.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:145,columnNumber:1},this),`\n`,(0,t.jsxDEV)(n.p,{children:\"This is a complex sequence! But it works like a charm. Scheduling and cleaning up timeouts is a very quick, low-memory operation, so we don't have to worry much about its cost.\"},void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:147,columnNumber:1},this)]},void 0,!0,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\",lineNumber:1,columnNumber:1},this)}function xn(a={}){let{wrapper:n}=a.components||{};return n?(0,t.jsxDEV)(n,Object.assign({},a,{children:(0,t.jsxDEV)(je,a,void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this)}),void 0,!1,{fileName:\"/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx\"},this):je(a)}var gn=xn;function yn(a,n,c){throw new Error(\"Expected \"+(n?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(c?\"\\nIt\\u2019s referenced in your code at `\"+c+\"` in `/Volumes/T7/Code/blog-next-13/content/snippets/_mdx_bundler_entry_point-b027e913-7cf6-43ee-b2bd-ab6fdffff1ef.mdx`\":\"\"))}return _n(Nn);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "snippets/debounce.mdx",
  "_raw": {
    "sourceFilePath": "snippets/debounce.mdx",
    "sourceFileName": "debounce.mdx",
    "sourceFileDir": "snippets",
    "contentType": "mdx",
    "flattenedPath": "snippets/debounce"
  },
  "type": "Snippet",
  "slug": "/snippets/debounce",
  "slugAsParams": "debounce",
  "stats": {
    "text": "5 min read",
    "minutes": 4.76,
    "time": 285600,
    "words": 952
  }
}